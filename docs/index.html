<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Matchmore  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Matchmore  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Matchmore Docs</a> (47% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Matchmore Reference</a>
        <img id="carat" src="img/carat.png" />
        Matchmore  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes.html#/s:9Matchmore7APIBaseC">APIBase</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/APIError.html">APIError</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AlamofireRequestBuilder.html">AlamofireRequestBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AlpsAPI.html">AlpsAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/AlpsManager.html">AlpsManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BeaconTripleStore.html">BeaconTripleStore</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Configuration.html">Configuration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Device.html">Device</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DeviceAPI.html">DeviceAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/DeviceUpdate.html">DeviceUpdate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableDevice.html">EncodableDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableIBeaconDevice.html">EncodableIBeaconDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableIBeaconTriple.html">EncodableIBeaconTriple</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableLocation.html">EncodableLocation</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableMatch.html">EncodableMatch</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableMobileDevice.html">EncodableMobileDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodablePinDevice.html">EncodablePinDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodablePublication.html">EncodablePublication</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/EncodableSubscription.html">EncodableSubscription</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/IBeaconDevice.html">IBeaconDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/IBeaconTriple.html">IBeaconTriple</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/KeychainHelper.html">KeychainHelper</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Location.html">Location</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LocationAPI.html">LocationAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:9Matchmore21LocationUpdateManagerC">LocationUpdateManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Match.html">Match</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:9Matchmore12MatchMonitorC">MatchMonitor</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MatchMore.html">MatchMore</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MatchesAPI.html">MatchesAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MobileDevice.html">MobileDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MobileDeviceStore.html">MobileDeviceStore</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MulticastDelegate.html">MulticastDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PinDevice.html">PinDevice</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PinDeviceStore.html">PinDeviceStore</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ProximityEvent.html">ProximityEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Publication.html">Publication</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PublicationAPI.html">PublicationAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PublicationStore.html">PublicationStore</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes.html#/s:9Matchmore25RemoteNotificationManagerC">RemoteNotificationManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RequestBuilder.html">RequestBuilder</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Response.html">Response</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Subscription.html">Subscription</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SubscriptionAPI.html">SubscriptionAPI</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SubscriptionStore.html">SubscriptionStore</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/DeviceType.html">DeviceType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ErrorResponse.html">ErrorResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Result.html">Result</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Sequence.html">Sequence</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/s:9Matchmore2peoiyAA17MulticastDelegateCyxG_xtlF">+=(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:9Matchmore2seoiyAA17MulticastDelegateCyxG_xtlF">-=(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/MatchDelegate.html">MatchDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/RequestBuilderFactory.html">RequestBuilderFactory</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/MatchMoreConfig.html">MatchMoreConfig</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Matchmore7Devicesa">Devices</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Matchmore14IBeaconTriplesa">IBeaconTriples</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Matchmore7Matchesa">Matches</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Matchmore14OnMatchClosurea">OnMatchClosure</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Matchmore12Publicationsa">Publications</a>
              </li>
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:9Matchmore13Subscriptionsa">Subscriptions</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='matchmore-ios-sdk' class='heading'>Matchmore iOS SDK</h1>

<p><code>Matchmore</code> is a contextualized publish/subscribe model which can be used to model any geolocated or proximity based mobile application. Save time and make development easier by using our SDK. We are built on Apple Core Location technologies and we also provide iBeacons compatibility.</p>
<h2 id='versioning' class='heading'>Versioning</h2>

<p>SDK is written using Swift 4.1.</p>

<p>Matchmore SDK requires iOS 9+.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p>Matchmore is available through <a href="http://cocoapods.org">CocoaPods</a>, simply add the following
line to your Podfile:</p>
<pre class="highlight plaintext"><code>pod 'Matchmore'
</code></pre>

<p>In case of any problems with cocoapods try</p>
<pre class="highlight plaintext"><code>pod repo update
</code></pre>
<h2 id='usage' class='heading'>Usage</h2>

<p>Please refer to documentation <q>tutorial</q> to get a full explanation on this example:</p>

<p>Setup application API key and world, get it for free from <a href="http://matchmore.io/">http://matchmore.io/</a>.</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplicationLaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">config</span> <span class="o">=</span> <span class="kt">MatchMoreConfig</span><span class="p">(</span><span class="nv">apiKey</span><span class="p">:</span> <span class="s">"YOUR_API_KEY"</span><span class="p">)</span>
    <span class="kt">MatchMore</span><span class="o">.</span><span class="nf">configure</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>
</code></pre>

<p>Create first device, publication and subscription. Please note that we&rsquo;re not caring about errors right now.</p>
<pre class="highlight swift"><code><span class="kt">MatchMore</span><span class="o">.</span><span class="n">startUsingMainDevice</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
    <span class="k">let</span> <span class="nv">publication</span> <span class="o">=</span> <span class="kt">Publication</span><span class="p">(</span><span class="nv">topic</span><span class="p">:</span> <span class="s">"Test Topic"</span><span class="p">,</span> <span class="nv">range</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">duration</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">properties</span><span class="p">:</span> <span class="p">[</span><span class="s">"test"</span><span class="p">:</span> <span class="s">"true"</span><span class="p">])</span>
    <span class="kt">MatchMore</span><span class="o">.</span><span class="nf">createPublicationForMainDevice</span><span class="p">(</span><span class="nv">publication</span><span class="p">:</span> <span class="n">publication</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"🏔 Created Pub"</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="k">let</span> <span class="nv">subscription</span> <span class="o">=</span> <span class="kt">Subscription</span><span class="p">(</span><span class="nv">topic</span><span class="p">:</span> <span class="s">"Test Topic"</span><span class="p">,</span> <span class="nv">range</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nv">duration</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nv">selector</span><span class="p">:</span> <span class="s">"test = 'true'"</span><span class="p">)</span>
    <span class="kt">MatchMore</span><span class="o">.</span><span class="nf">createSubscriptionForMainDevice</span><span class="p">(</span><span class="nv">subscription</span><span class="p">:</span> <span class="n">subscription</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"🏔 Created Sub"</span><span class="p">)</span>
    <span class="p">})</span>
<span class="p">}</span>
</code></pre>

<p>Define an object that&rsquo;s <code>AlpsManagerDelegate</code> implementing <code>OnMatchClojure</code>.</p>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">ExampleMatchHandler</span><span class="p">:</span> <span class="kt">MatchDelegate</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">onMatch</span><span class="p">:</span> <span class="kt">OnMatchClosure</span><span class="p">?</span>
    <span class="nf">init</span><span class="p">(</span><span class="n">_</span> <span class="nv">onMatch</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">OnMatchClosure</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">onMatch</span> <span class="o">=</span> <span class="n">onMatch</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Start listening for main device matches changes.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">exampleMatchHandler</span> <span class="o">=</span> <span class="kt">ExampleMatchHandler</span> <span class="p">{</span> <span class="n">matches</span><span class="p">,</span> <span class="n">_</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span>
<span class="p">}</span>
<span class="kt">MatchMore</span><span class="o">.</span><span class="n">matchDelegates</span> <span class="o">+=</span> <span class="n">exampleMatchHandler</span>
</code></pre>
<h2 id='set-up-apns-certificates-for-push-notifications' class='heading'>Set up APNS: Certificates for push notifications</h2>

<p>Matchmore iOS SDK uses Apple Push Notification Service (APNS) to deliver notifications to your iOS users.</p>

<p>If you already know how to enable APNS, don&rsquo;t forget to upload the certificate in our portal.</p>

<p>Also, you need to add the following lines to your project <code>AppDelegate</code>.</p>

<p>These callbacks allow the SDK to get the device token.</p>
<pre class="highlight swift"><code><span class="c1">// Called when APNS has assigned the device a unique token</span>
<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didRegisterForRemoteNotificationsWithDeviceToken</span> <span class="nv">deviceToken</span><span class="p">:</span> <span class="kt">Data</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Convert token to string</span>
    <span class="k">let</span> <span class="nv">deviceTokenString</span> <span class="o">=</span> <span class="n">deviceToken</span><span class="o">.</span><span class="nf">reduce</span><span class="p">(</span><span class="s">""</span><span class="p">,</span> <span class="p">{</span><span class="nv">$0</span> <span class="o">+</span> <span class="kt">String</span><span class="p">(</span><span class="nv">format</span><span class="p">:</span> <span class="s">"%02X"</span><span class="p">,</span> <span class="nv">$1</span><span class="p">)})</span>
    <span class="kt">MatchMore</span><span class="o">.</span><span class="nf">registerDeviceToken</span><span class="p">(</span><span class="nv">deviceToken</span><span class="p">:</span> <span class="n">deviceTokenString</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Called when APNS failed to register the device for push notifications</span>
<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didReceiveRemoteNotification</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="p">{</span>
    <span class="kt">MatchMore</span><span class="o">.</span><span class="nf">processPushNotification</span><span class="p">(</span><span class="nv">pushNotification</span><span class="p">:</span> <span class="n">userInfo</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Else, you can find help on <a href="https://github.com/matchmore/alps-ios-sdk/blob/master/ApnsSetup.md">how to setup APNS</a>.</p>
<h2 id='example' class='heading'>Example</h2>

<p>In <code>MatchmoreExample/</code> you will find working simple example.</p>

<p>For more complex solution please check <a href="https://github.com/matchmore/alps-ios-TicketingApp">Ticketing App</a>:</p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>See the <a href="http://matchmore.io/documentation/api">http://matchmore.io/documentation/api</a> or consult our website for further information <a href="http://matchmore.io/">http://matchmore.io/</a></p>
<h2 id='authors' class='heading'>Authors</h2>

<ul>
<li>@tharpa, <a href="mailto:rk@matchmore.com">rk@matchmore.com</a></li>
<li>@wenjdu, <a href="mailto:jean-marc.du@matchmore.com">jean-marc.du@matchmore.com</a></li>
<li>@maciejburda, <a href="mailto:maciej.burda@matchmore.com">maciej.burda@matchmore.com</a></li>
</ul>
<h2 id='license' class='heading'>License</h2>

<p><code>Matchmore</code> is available under the MIT license. See the LICENSE file for more info.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="https://matchmore.io" target="_blank" rel="external">Matchmore SDK Team</a>. All rights reserved. (Last updated: 2018-04-04)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
